############################################################
# Description: Summons Restless Archer
############################################################

execute at @e[type=minecraft:wandering_trader,tag=mb.restless_soul] if entity @a[distance=..30,gamemode=!creative,gamemode=!spectator] run summon stray ~ ~-1 ~2 {Team:"MB.boss",DeathLootTable:"mb:entities/restless_soul/restless_guards",Health:20f,Motion:[0.0,0.8,0.0],Tags:["mb.restless_archer","mb.restless_soul.cleanup","mb.restless_soul.minion"],CustomName:'{"text":"Restless Archer","color":"dark_purple"}',HandItems:[{id:"minecraft:bow",Count:1b},{}],HandDropChances:[0.000F,0.000F],ArmorItems:[{},{},{id:"minecraft:netherite_chestplate",Count:1b},{id:"minecraft:diamond_hoe",Count:1b,tag:{CustomModelData:133002}}],ArmorDropChances:[0.000F,0.000F,0.000F,0.000F],Attributes:[{Name:"generic.max_health",Base:20},{Name:"generic.follow_range",Base:100}]}
execute at @e[type=minecraft:wandering_trader,tag=mb.restless_soul] if entity @a[distance=..30,gamemode=!creative,gamemode=!spectator] run summon stray ~ ~-1 ~-2 {Team:"MB.boss",DeathLootTable:"mb:entities/restless_soul/restless_guards",Health:20f,Motion:[0.0,0.8,0.0],Tags:["mb.restless_archer","mb.restless_soul.cleanup","mb.restless_soul.minion"],CustomName:'{"text":"Restless Archer","color":"dark_purple"}',HandItems:[{id:"minecraft:bow",Count:1b},{}],HandDropChances:[0.000F,0.000F],ArmorItems:[{},{},{id:"minecraft:netherite_chestplate",Count:1b},{id:"minecraft:diamond_hoe",Count:1b,tag:{CustomModelData:133002}}],ArmorDropChances:[0.000F,0.000F,0.000F,0.000F],Attributes:[{Name:"generic.max_health",Base:20},{Name:"generic.follow_range",Base:100}]}

execute at @e[type=minecraft:wandering_trader,tag=mb.restless_soul] if entity @a[distance=..30,gamemode=!creative,gamemode=!spectator] run function mb:boss/restless_soul/technical/model/casting
execute at @e[type=minecraft:wandering_trader,tag=mb.restless_soul] if entity @a[distance=..30,gamemode=!creative,gamemode=!spectator] run schedule function mb:boss/restless_soul/technical/model/uncasting 1s append

schedule function mb:boss/restless_soul/normal_mode/attacks/restless_guards/restless_berserker 15s